<html>
  <head><title>Youtube Audio Player</title></head>
  <body>
    <audio id="youtube" autoplay controls loop></audio>
    <input type="text" id="ytid" placeholder="Enter YT vid ID"></input>
    <button onclick="p()">Play!</button>
    <script>
      var vid = "",
      audio_streams = {},
      audio_tag = document.getElementById('youtube');
      function p(){
        var vid = document.getElementById("ytid").value;
        fetch("https://bypasscors.herokuapp.com/api/?url=https://www.youtube.com/get_video_info?video_id=" + vid).then(response => {
            if (response.ok) {
                response.text().then(data => {

                    var data = parse_str(data),
                        streams = (data.url_encoded_fmt_stream_map + ',' + data.adaptive_fmts).split(',');

                    streams.forEach(function(s, n) {
                        var stream = parse_str(s),
                            itag = stream.itag * 1,
                            quality = false;
                        console.log(stream);
                        switch (itag) {
                            case 139:
                                quality = "48kbps";
                                break;
                            case 140:
                                quality = "128kbps";
                                break;
                            case 141:
                                quality = "256kbps";
                                break;
                        }
                        if (quality) audio_streams[quality] = stream.url;
                    });

                    console.log(audio_streams);

                    audio_tag.src = audio_streams['128kbps'];
                    audio_tag.play();
                })
            }
        });
      }
      function parse_str(str) {
          return str.split('&').reduce(function(params, param) {
              var paramSplit = param.split('=').map(function(value) {
                  return decodeURIComponent(value.replace('+', ' '));
              });
              params[paramSplit[0]] = paramSplit[1];
              return params;
          }, {});
      }
    </script>
  </body>
</html>
